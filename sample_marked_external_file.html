<!DOCTYPE html>
<html>
<head>
  <title>Txt2tags parser using javascript and marked.js</title>
  <meta name="viewport" content="width=device-width" />
  <script src="jquery.js"></script>
    <script src="marked.js"></script>
  <link rel="stylesheet" href="-txt2tagsjs.css" />
  <link rel="stylesheet" href="-style.css" />
  
  <link rel="stylesheet/less" href="style.less" />
  <script src="less.js" type="text/javascript"></script>
    
  <script>
      
marked.setOptions({
  //renderer: new marked.Renderer(),
  gfm: true,
  tables: true,
  //breaks: false,
  //pedantic: false,
  //sanitize: true,
  //smartLists: true,
  //smartypants: false
});

// from http://www.netlobo.com/url_query_string_javascript.html
function gup( name )
{
  name = name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
  var regexS = "[\\?&]"+name+"=([^&#]*)";
  var regex = new RegExp( regexS );
  var results = regex.exec( window.location.href );
  if( results == null )
    return 'sample.t2t';
  else
    return results[1];
}

//var mypage = 'test.t2t';
//var mypage = 'sample.t2t';
var mypage = gup('page');
/*if (mypage.length === 0) {
            mypage = 'sample.t2t';
        }
*/

		var truc = $(document).ready(function() {
			$.get(mypage, function(data){
			  $("#container1").html(marked(data));
			}, 'text');
		});

	/*	var truc2 = $(document).ready(function() {
			$.get('README.t2t', function(data){
			  $("#container2").html(marked(data));
			}, 'text');
		});
*/
		var truc2 = $(document).ready(function() {
			$.get('sidebar.t2t', function(data){
			  $("#sidebar").html(marked(data));
			}, 'text');
		});

// note: replace .html(marked(data)) by .text(marked(data)) so you can see the html source (userful for debugging)
	
  </script>
</head>
<body>

<script>
</script>

<div id="sidebar"></div>



<div id="main">
  <div id="container">
    <div id="container1"></div>
    <div id="container2"></div>
    
   
  </div>
</div>


</body>
</html>
